"use strict";(self.webpackChunkshogun_demo_client=self.webpackChunkshogun_demo_client||[]).push([[592],{36196:function(e,t,n){n(92015);var a=n(4863),r=(n(94125),n(16318)),l=n(67294),o=n(31929),i=n(17699),s=n(67502),c=n(65920),u=n(68734),m=n(41666),d=n(12827),p=n(26414),f=n(97260),g=n(14409),y=n(59090),h=n(73935),E=n(95998),v=n(12038),b=n.n(v),w=n(92212),k=n.n(w),L=n(67624),P=n(6653),Z=n.n(P),F=n(41907),M=n.n(F),S=n(80815),T=n(7294);function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I.apply(this,arguments)}var A=({...e})=>{const t=(0,S.default)();return t?l.createElement(T.default,I({map:t},e)):l.createElement(l.Fragment,null)},O=(n(1025),n(65400)),x=(n(56120),n(74253)),C=n(4540),N=n(37494),j=n(91900),D=n(64478),R=n(26954),V=n(93379),_=n.n(V),z=n(7795),B=n.n(z),K=n(90569),$=n.n(K),U=n(3565),W=n.n(U),G=n(19216),q=n.n(G),J=n(44589),Y=n.n(J),H=n(78415),Q={};Q.styleTagTransform=Y(),Q.setAttributes=W(),Q.insert=$().bind(null,"head"),Q.domAPI=B(),Q.insertStyleElement=q();_()(H.Z,Q),H.Z&&H.Z.locals&&H.Z.locals;function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X.apply(this,arguments)}var ee=({...e})=>{const{t:t}=(0,D.$)(),n=(0,S.default)();(0,l.useEffect)((()=>{if(!n)return;const e=n.getControls().getArray().find((e=>e instanceof N.Z));e||n.addControl(new N.Z({target:"scale-line-container"}))}),[n]),(0,l.useEffect)((()=>{if(!n)return;const e=n.getControls().getArray().find((e=>e instanceof C.Z));e||n.addControl(new C.Z({coordinateFormat:(0,j.createStringXY)(2),projection:"EPSG:25832",undefinedHTML:"&nbsp;",target:"mouse-position"}))}),[n]);return n?l.createElement("div",X({className:"footer"},e),l.createElement("div",{className:"item-container left-items"},l.createElement("div",{id:"scale-line-container"}),l.createElement(x.Z,{type:"vertical"}),t("Footer.scale"),":",l.createElement(R.default,{map:n}),l.createElement(x.Z,{type:"vertical"}),l.createElement("div",null,t("Footer.refSystem"),": ",n.getView().getProjection().getCode()),l.createElement(x.Z,{type:"vertical"}),l.createElement("div",null,t("Footer.mousePosition"),":"),l.createElement("div",{id:"mouse-position",className:"mouse-position"})),l.createElement("div",{className:"item-container right-items"},l.createElement(O.default,{onClick:()=>{window.open("https://www.terrestris.de/de/kontakt/","_blank")},type:"link"},t("Footer.contact")),l.createElement(O.default,{onClick:()=>{window.open("https://www.terrestris.de/de/impressum/","_blank")},type:"link"},t("Footer.imprint")),l.createElement(O.default,{onClick:()=>{window.open("https://www.terrestris.de/de/datenschutzerklaerung/","_blank")},type:"link"},t("Footer.privacypolicy")))):l.createElement(l.Fragment,null)},te=n(53280);const ne=E.v9;var ae=ne,re=n(43985);function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},le.apply(this,arguments)}var oe=({...e})=>{const t=(0,S.default)(),{t:n}=(0,D.$)();return t?l.createElement(re.default,le({map:t,countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:n("Nominatim.placeholder")},e)):l.createElement(l.Fragment,null)},ie=n(62923),se={};se.styleTagTransform=Y(),se.setAttributes=W(),se.insert=$().bind(null,"head"),se.domAPI=B(),se.insertStyleElement=q();_()(ie.Z,se),ie.Z&&ie.Z.locals&&ie.Z.locals;function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ce.apply(this,arguments)}var ue=({...e})=>{const t=ne((e=>e.title));return l.createElement("div",ce({className:"header"},e),l.createElement("div",{className:"item-container left-items"},l.createElement("img",{className:"logo",src:te}),l.createElement("div",{className:"title"},t)),l.createElement("div",{className:"item-container center-items"},l.createElement(oe,null)),l.createElement("div",{className:"item-container right-items"}))},me=(n(54214),n(12386)),de=n(51436),pe=n(17625),fe=n(73345),ge=n(54388);var ye=()=>(0,E.I0)(),he=n(35304);const Ee=(0,he.oM)({name:"toolMenu",initialState:{selectedKeys:[]},reducers:{setSelectedKey(e,t){e.selectedKeys.push(t.payload)},unsetSelectedKey(e,t){e.selectedKeys=e.selectedKeys.filter((e=>e!==t.payload))}}}),{setSelectedKey:ve,unsetSelectedKey:be}=Ee.actions;var we=Ee.reducer,ke=(n(29809),n(97538)),Le=(n(89858),n(51024));function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pe.apply(this,arguments)}var Ze=({printManager:e,value:t,id:n,placeholder:a,maxLength:r,...o})=>{const[i,s]=(0,l.useState)(t);return(0,l.useEffect)((()=>{e&&n&&(e.customParams[n]=i)}),[e,i,n]),(0,l.useEffect)((()=>{s(t)}),[t]),l.createElement(Le.Z,Pe({id:n,value:i,onChange:e=>s(e.target.value),placeholder:a,maxLength:r,showCount:!!(r&&r>1)},o))},Fe=(n(35797),n(64749));function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Me.apply(this,arguments)}var Se=({printManager:e,placeholder:t="Bitte wÃ¤hlen Sie eine Vorlage aus",value:n,...a})=>{const[r,o]=(0,l.useState)(n);return(0,l.useEffect)((()=>{e&&e.setLayout(r)}),[e,r]),(0,l.useEffect)((()=>{o(n)}),[n]),l.createElement(Fe.default,Me({placeholder:t,value:r,onChange:o},a),e?.getLayouts().map((e=>l.createElement(Fe.default.Option,{key:e.name,value:e.name},e.name))))};function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Te.apply(this,arguments)}var Ie=({printManager:e,placeholder:t,value:n,outputFormats:a,...r})=>{const[o,i]=(0,l.useState)(n);return(0,l.useEffect)((()=>{e&&e.setOutputFormat(o)}),[e,o]),(0,l.useEffect)((()=>{i(n)}),[n]),l.createElement(Fe.default,Te({placeholder:t,value:o,onChange:i},r),a.map((e=>l.createElement(Fe.default.Option,{key:e,value:e},e.toLocaleUpperCase()))))};function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ae.apply(this,arguments)}var Oe=({printManager:e,placeholder:t,value:n,...a})=>{const[r,o]=(0,l.useState)(n);return(0,l.useEffect)((()=>{e&&e.setDpi(r)}),[e,r]),(0,l.useEffect)((()=>{o(n)}),[n]),l.createElement(Fe.default,Ae({placeholder:t,value:r,onChange:o},a),e?.getDpis().map((e=>l.createElement(Fe.default.Option,{key:e,value:e},`${e} DPI`))))},xe=n(87650),Ce={};Ce.styleTagTransform=Y(),Ce.setAttributes=W(),Ce.insert=$().bind(null,"head"),Ce.domAPI=B(),Ce.insertStyleElement=q();_()(xe.Z,Ce),xe.Z&&xe.Z.locals&&xe.Z.locals;function Ne(){return Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ne.apply(this,arguments)}var je=({layerBlackList:e=[],map:t,printManager:n,...r})=>{const[o]=ke.Z.useForm(),{t:i}=(0,D.$)(),[s,c]=(0,l.useState)(!1),[m,d]=(0,l.useState)(null),p=n=>{const a=n.get("name"),r=!e.includes(a),l=!n.get("hideLegendInPrint"),o=n.getVisible()&&ge.default.layerInResolutionRange(n,t),i=!(n instanceof u.default);if(r&&l&&o&&i){const e=t.getView().getResolution();return e&&n.set("customPrintLegendParams",{SCALE:ge.default.getScaleForResolution(e,"m")}),!0}return!1},f=async()=>{n.legendFilter=p,n.customParams.printLegend=!1};return n?.isInitiated()?l.createElement("div",{className:"print"},m&&l.createElement(a.default,{className:"print-alert",message:m,type:"error",closable:!0,showIcon:!0,onClose:()=>{d(null)}}),l.createElement(ke.Z,Ne({form:o,className:"print-form",layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20}},r),l.createElement(ke.Z.Item,{name:"title",label:i("PrintForm.title"),labelCol:{span:6},wrapperCol:{span:18},initialValue:i("PrintForm.initialTitle")},l.createElement(Ze,{maxLength:50,printManager:n,placeholder:i("PrintForm.titlePlaceholder")})),l.createElement(ke.Z.Item,{name:"comment",label:i("PrintForm.comment"),labelCol:{span:6},wrapperCol:{span:18}},l.createElement(Ze,{maxLength:200,printManager:n,placeholder:i("PrintForm.commentPlaceholder")})),l.createElement(ke.Z.Item,{name:"layout",label:i("PrintForm.layout"),initialValue:n?.getLayouts()[0]?.name},l.createElement(Se,{printManager:n})),l.createElement(ke.Z.Item,{name:"dpi",label:i("PrintForm.dpi"),initialValue:72},l.createElement(Oe,{printManager:n,placeholder:i("PrintForm.resolutionPlaceholder")})),l.createElement(ke.Z.Item,{name:"format",label:i("PrintForm.format"),initialValue:"pdf"},l.createElement(Ie,{printManager:n,outputFormats:["pdf","jpg","png"],placeholder:i("PrintForm.outputFormatPlaceholder")})),l.createElement(ke.Z.Item,null,l.createElement(O.default,{disabled:!n?.isInitiated(),icon:l.createElement(pe.FontAwesomeIcon,{icon:de.q7m}),loading:s,onClick:async()=>{try{d(null),c(!0),await f();const e=await n.print(!1);if(!e)throw new Error("No download URL available, the job has failed.");n.download(e)}catch(e){d(i("PrintForm.printJobErrorMsg")),b().error(e)}finally{c(!1)}}},i("PrintForm.downloadBtnText"))))):l.createElement(l.Fragment,null)},De=n(3028),Re=n(42833),Ve=n(93893),_e=(n(15086),n(94055)),ze=(n(76405),n(69843)),Be=n(20640),Ke=n.n(Be),$e=n(49466),Ue=n(92371),We=n(30933),Ge=n(55384),qe=n(21922),Je=n(86092),Ye={};Ye.styleTagTransform=Y(),Ye.setAttributes=W(),Ye.insert=$().bind(null,"head"),Ye.domAPI=B(),Ye.insertStyleElement=q();_()(Je.Z,Ye),Je.Z&&Je.Z.locals&&Je.Z.locals;function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},He.apply(this,arguments)}var Qe=({features:e,layerName:t="Unknown layer",...n})=>{const[a,r]=(0,l.useState)(),[o,i]=(0,l.useState)(),s=(0,Ge.useMap)(),{t:c}=(0,D.$)(),u=`selection-layer-${t}`;return(0,l.useEffect)((()=>{if(!s)return;return(()=>{if(ge.default.getLayerByName(s,u))return;const t=new We.default({features:e}),n=new Ue.default({source:t});n.set("name",u),s.addLayer(n)})(),()=>(()=>{const e=ge.default.getLayerByName(s,u);e&&s.removeLayer(e)})()}),[s]),(0,l.useEffect)((()=>{if(!s)return;const t=ge.default.getLayerByName(s,u);t&&(t.getSource()?.clear(),r(1),e.length>0&&i(e[0]))}),[e,s]),(0,l.useEffect)((()=>{if(!o||!s)return;const e=ge.default.getLayerByName(s,u);e&&(e.getSource()?.clear(),e.getSource()?.addFeature(o))}),[o,s]),o?l.createElement(l.Fragment,null,l.createElement("div",{className:"property-grid-header"},t&&l.createElement("span",null,t),l.createElement("div",{className:"right-elements"},l.createElement(ze.Z,{simple:!0,total:e.length,size:"small",pageSize:1,current:a,onChange:t=>{r(t),i(e[t-1])}}),l.createElement(_e.default,{title:"Copy to clipboard"},l.createElement(O.default,{type:"primary",onClick:()=>{Ke()((new $e.default).writeFeature(o))},icon:l.createElement(pe.FontAwesomeIcon,{icon:de.kZ_})})))),l.createElement(qe.default,He({feature:o,size:"small",sticky:!0,columns:[{title:"Key",dataIndex:"attributeName",key:"attributeName",width:"50%",ellipsis:!0,defaultSortOrder:"ascend",sorter:(e,t)=>e.key.localeCompare(t.key)},{title:"Value",dataIndex:"attributeValue",key:"attributeValue",width:"50%",ellipsis:!0}],scroll:{y:Object.keys(o.getProperties()).length>6?250:void 0}},n))):l.createElement(l.Fragment,null)},Xe=n(16813),et={};et.styleTagTransform=Y(),et.setAttributes=W(),et.insert=$().bind(null,"head"),et.domAPI=B(),et.insertStyleElement=q();_()(Xe.Z,et),Xe.Z&&Xe.Z.locals&&Xe.Z.locals;function tt(){return tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tt.apply(this,arguments)}var nt=({enabled:e,...t})=>{const{t:n}=(0,D.$)(),a=(0,S.useMap)();if(!a)return l.createElement(l.Fragment,null);const r=a.getLayers().getArray().filter((e=>!!e.get("hoverable")&&(e instanceof De.default&&e.getSource()instanceof Re.default||e instanceof m.default&&e.getSource()instanceof g.default)));return e?l.createElement(Ve.default,tt({featureCount:10,map:a,queryLayers:r,resultRenderer:e=>{const t=e.features,n=e.loading;return 0===Object.keys(t).length?l.createElement("span",null,"Click on the map to get details about the clicked coordinate."):Object.entries(t).map((([e,t])=>l.createElement("div",{key:e},l.createElement(Qe,{features:t,layerName:e,loading:n}))))}},t)):l.createElement(l.Fragment,null)},at=n(74187),rt=n(64289),lt=n(68112),ot=n(97979),it=(n(6373),n(82891)),st=(n(9405),n(89552)),ct=n(86954);function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ut.apply(this,arguments)}var mt=({layer:e,visibleLegendsIds:t,setVisibleLegendsIds:n,...a})=>{const[o,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1),u=(0,S.useMap)(),{t:m}=(0,D.$)(),d=async()=>{if(u){c(!0);try{let t=await ct.default.getExtentForLayer(e);t=(0,p.transformExtent)(t,"EPSG:4326",u.getView().getProjection()),u.getView().fit(t)}catch(e){b().error(e),r.default.error({message:m("LayerTreeContextMenu.extentError")})}finally{c(!1)}}},f=()=>{if(!u)return;const t=m("LayerTree.externalWmsFolder"),n=ge.default.getLayerByName(u,t);if(n){const t=n.getLayers();try{1===t.getLength()&&n.set("hideInLayerTree",!0),t.remove(e)}catch(e){b().error("Could not remove external layer from map.")}}};let g=[{label:l.createElement(st.Z,{spinning:s},m("LayerTreeContextMenu.layerZoomToExtent")),key:"zoomToExtent"}];const y=t.includes((0,at.getUid)(e));e.getVisible()&&g.push({label:m(y?"LayerTreeContextMenu.hideLegend":"LayerTreeContextMenu.showLegend"),key:"toggleLegend"}),e.get("isExternalLayer")&&g.push({label:m("LayerTreeContextMenu.removeLayer"),key:"removeExternal"});const h=l.createElement(me.Z,{items:g,selectable:!1,onClick:a=>{switch(a?.key){case"zoomToExtent":d();break;case"removeExternal":f();break;case"toggleLegend":const a=(0,at.getUid)(e),r=[...t];r.includes(a)?r.splice(r.indexOf(a),1):r.push(a),n(r)}i(!1)}});return l.createElement(it.Z,ut({overlay:h,placement:"bottomLeft",onVisibleChange:i,visible:o,trigger:["click"]},a),l.createElement(pe.FontAwesomeIcon,{icon:de.iV1}))},dt=n(79770),pt={};pt.styleTagTransform=Y(),pt.setAttributes=W(),pt.insert=$().bind(null,"head"),pt.domAPI=B(),pt.insertStyleElement=q();_()(dt.Z,pt),dt.Z&&dt.Z.locals&&dt.Z.locals;function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ft.apply(this,arguments)}var gt=({...e})=>{const t=(0,S.useMap)(),{t:n}=(0,D.$)(),[a,r]=(0,l.useState)([]);return t?l.createElement("div",{className:"layertree"},l.createElement(rt.default,ft({map:t,nodeTitleRenderer:e=>{if(!t)return;const o=t.getView(),i=o.getProjection().getUnits()||"m",s=o.getResolution(),c=s?ge.default.getScaleForResolution(s,i):void 0;return e instanceof u.default?l.createElement("div",null,e.get("name")):l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("div",{className:"tree-node-header"},l.createElement("span",null,e.get("name")),l.createElement(mt,{layer:e,visibleLegendsIds:a,setVisibleLegendsIds:r})),e.get("visible")&&l.createElement(l.Fragment,null,l.createElement("div",{className:"layer-transparency"},l.createElement(ot.default,{tipFormatter:e=>`${n("LayerTree.transparency")}: ${e}%`,layer:e}))),e.get("visible")&&a.includes((0,at.getUid)(e))&&l.createElement(lt.default,{layer:e,errorMsg:n("LayerTree.noLegendAvailable"),extraParams:{scale:c,LEGEND_OPTIONS:"fontAntiAliasing:true;forceLabels:on",TRANSPARENT:!0}})))},filterFunction:e=>e instanceof u.default?!e.get("hideInLayerTree"):!(e.get("isBackgroundLayer")||e.getSource&&e.getSource()instanceof We.default),draggable:{icon:!1}},e))):l.createElement(l.Fragment,null)},yt=n(85214),ht=n(56479),Et=n(85415),vt={};vt.styleTagTransform=Y(),vt.setAttributes=W(),vt.insert=$().bind(null,"head"),vt.domAPI=B(),vt.insertStyleElement=q();_()(Et.Z,vt),Et.Z&&Et.Z.locals&&Et.Z.locals;var bt=()=>{const{t:e}=(0,D.$)(),t=(0,S.useMap)();return t?l.createElement(ht.default,null,l.createElement(yt.default,{geodesic:!0,name:"line",map:t,measureType:"line",type:"link",continueLineMsg:e("Measure.clicktodrawline")},l.createElement(pe.FontAwesomeIcon,{icon:de.SoD}),l.createElement("span",{className:"measure-text"},e("Measure.line"))),l.createElement(yt.default,{geodesic:!0,name:"poly",map:t,measureType:"polygon",type:"link",continuePolygonMsg:e("Measure.clicktodrawarea")},l.createElement(pe.FontAwesomeIcon,{icon:de.ubJ}),l.createElement("span",{className:"measure-text"},e("Measure.area")))):l.createElement(l.Fragment,null)},wt=n(35818),kt={};kt.styleTagTransform=Y(),kt.setAttributes=W(),kt.insert=$().bind(null,"head"),kt.domAPI=B(),kt.insertStyleElement=q();_()(wt.Z,kt),wt.Z&&wt.Z.locals&&wt.Z.locals;function Lt(){return Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lt.apply(this,arguments)}var Pt=({...e})=>{const{t:t}=(0,D.$)(),n=(0,S.useMap)(),a=ye(),r=ae((e=>e.toolMenu.selectedKeys)),[o,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)([]),[m,d]=(0,l.useState)(null);(0,l.useEffect)((()=>(s.includes("print")&&!m&&f(),()=>{m&&s.includes("print")&&(m.shutdownManager(),d(null))})),[s,m]);const p=e=>{if(!n)return;const t=e.get("name");return t&&!["react-geo_measure","hoverVectorLayer"].includes(t)&&e.getVisible()&&!(e instanceof u.default)&&ge.default.layerInResolutionRange(e,n)},f=(0,l.useCallback)((async()=>{const e=new fe.Cf({url:"/print",map:n,timeout:6e4,layerFilter:p,transformOpts:{rotate:!1}});await e.init().then((()=>{e.setOutputFormat(e.getOutputFormats()[0]),e.setDpi(e.getDpis()[0]),e.setLayout(e.getLayouts()[0]?.name)})).catch((e=>{b().error(e)})),d(e)}),[n,t]),g=e=>{i(!1),r.forEach((e=>a(be(e)))),c([e.key])},y=[{className:"measure",key:"measure_tools",icon:l.createElement(pe.FontAwesomeIcon,{icon:de.KxN}),label:t("ToolMenu.measure"),children:[{key:"measure-panel",label:l.createElement(bt,null)}]},{key:"feature_info",onTitleClick:g,icon:l.createElement(pe.FontAwesomeIcon,{icon:de.kwz}),label:t("ToolMenu.featureInfo"),children:[{key:"feature-info-panel",label:l.createElement(nt,{enabled:s.includes("feature_info")})}]},{key:"print",onTitleClick:g,icon:l.createElement(pe.FontAwesomeIcon,{icon:de.kwI}),label:t("ToolMenu.print"),children:[{key:"print-panel",label:l.createElement(je,{printManager:m,map:n})}]},{className:"tree",key:"tree",onTitleClick:g,icon:l.createElement(pe.FontAwesomeIcon,{icon:de.aC2}),label:t("ToolMenu.layertree"),children:[{key:"tree-panel",label:l.createElement("div",{className:"wmsbox"},l.createElement(gt,null),l.createElement(O.default,{icon:l.createElement(pe.FontAwesomeIcon,{icon:de.r8p})},t("ToolMenu.addWms")))}]},{key:"expand_collapse",icon:o?l.createElement(pe.FontAwesomeIcon,{icon:de._tD}):l.createElement(pe.FontAwesomeIcon,{icon:de.A35})}];return l.createElement("div",{className:"tool-menu"},l.createElement(me.Z,Lt({mode:"inline",inlineCollapsed:o,onSelect:e=>{if("expand_collapse"===e.key)i(!o)},onDeselect:e=>{if("expand_collapse"===e.key)i(!o)},openKeys:s,onOpenChange:e=>{o&&(e=e.filter((e=>"measure_tools"===e||"expand_collapse"===e))),c(e)},multiple:!0,selectedKeys:r,items:y},e)))},Zt=n(65705),Ft={};Ft.styleTagTransform=Y(),Ft.setAttributes=W(),Ft.insert=$().bind(null,"head"),Ft.domAPI=B(),Ft.insertStyleElement=q();_()(Zt.Z,Ft),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;var Mt=()=>l.createElement("div",{className:"App"},l.createElement(ue,null),l.createElement(A,null),l.createElement(Pt,null),l.createElement(ee,null)),St=n(36609),Tt=n(26071),It=n(68718);St.ZP.use(Tt.Z).use(It.Db).init({resources:{de:{translation:{Measure:{title:"Messen",line:"Entfernung",area:"FlÃ¤che",clicktodrawline:"Zum Zeichnen einer Linie klicken",clicktodrawarea:"Zum Zeichnen einer FlÃ¤che klicken"},LayerTree:{transparency:"Transparenz",externalWmsFolder:"Externe Dienste",noLegendAvailable:"Keine Legende verfÃ¼gbar"},LayerTreeContextMenu:{layerZoomToExtent:"Auf Layerausdehnung zoomen",extentError:"Konnte nicht auf die Layerausdehnung zoomen",removeLayer:"Layer entfernen",showLegend:"Legende anzeigen",hideLegend:"Legende ausblenden"},ToolMenu:{expand:"Erweitern / Einklappen",measure:"Messen",featureInfo:"Karteninhalte abfragen",addWms:"WMS hinzufÃ¼gen",print:"Export",layertree:"Karten"},PrintForm:{title:"Kartentitel",initialTitle:"Druckausgabe",titlePlaceholder:"Bitte geben Sie einen Titel ein",comment:"Bemerkung",commentPlaceholder:"Bitte geben Sie einen Kommentar ein",layout:"Vorlage",dpi:"AuflÃ¶sung",format:"Format",downloadBtnText:"Ausdruck erzeugen",printJobErrorMsg:"Der Kartenausdruck konnte nicht erzeugt werden",initErrorMsg:"Der Kartendruck Generator konnte nicht initialisiert werden.",outputFormatPlaceholder:"Bitte wÃ¤hlen Sie ein Ausgabeformat aus",resolutionPlaceholder:"Bitte wÃ¤hlen Sie eine AusgabequalitÃ¤t aus"},Footer:{refSystem:"Bezugssystem",scale:"MaÃstab",mousePosition:"Mausposition",imprint:"Impressum",contact:"Kontakt",privacypolicy:"Datenschutz"},Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden. Bitte laden Sie die Seite erneut."},Nominatim:{placeholder:"Ortsname, StraÃenname, Stadtteilname, POI usw."},Drawer:{title:"Themen"}}},en:{translation:{Measure:{title:"Measure",line:"Distance",area:"Area",clicktodrawline:"Click to draw line",clicktodrawarea:"Click to draw area"},LayerTree:{transparency:"Transparency",externalWmsFolder:"External services",noLegendAvailable:"No legend available"},LayerTreeContextMenu:{layerZoomToExtent:"Zoom to layer extent",extentError:"Could not zoom to layer extent",removeLayer:"Remove layer",showLegend:"Show legend",hideLegend:"Hide legend"},ToolMenu:{expand:"Expand / Collapse",measure:"Measure",featureInfo:"Query map features",addWms:"Add WMS",print:"Export",layertree:"Maps"},PrintForm:{title:"Title",initialTitle:"Title",titlePlaceholder:"Please input a titleâ¦",comment:"Comment",commentPlaceholder:"Please enter a commentâ¦",layout:"Layout",dpi:"Resolution",format:"Format",downloadBtnText:"Create print",printJobErrorMsg:"Could not generate PDF output",initErrorMsg:"PDF Generator could not be initialized",outputFormatPlaceholder:"Please select an output format",resolutionPlaceholder:"Please select an output quality"},Footer:{refSystem:"Reference system",scale:"Scale",mousePosition:"Mouse position",imprint:"Imprint",contact:"Contact",privacypolicy:"Privacy"},Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occured while loading the application. Please try to reload the page."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},Drawer:{title:"Layers"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},supportedLngs:["de","en"]});var At=St.ZP;const Ot=(0,he.oM)({name:"title",initialState:"Default title",reducers:{setTitle:(e,t)=>t.payload}}),{setTitle:xt}=Ot.actions;var Ct=Ot.reducer;const Nt=(0,he.xC)({reducer:{title:Ct,toolMenu:we}});var jt=n(90978),Dt={};Dt.styleTagTransform=Y(),Dt.setAttributes=W(),Dt.insert=$().bind(null,"head"),Dt.domAPI=B(),Dt.insertStyleElement=q();_()(jt.Z,Dt),jt.Z&&jt.Z.locals&&jt.Z.locals;const Rt=new(M())({url:"/"}),Vt=new(Z())({client:Rt}),_t=e=>{switch(e){case"en":default:return s.Z;case"de":return i.Z}};(async()=>{try{const e=await(async()=>{const e=k().getQueryParam(window.location.href,"applicationId");if(!e)return void b().info("No application ID given, can't load any configuration.");let t;b().info(`Loading application with ID ${e}`);try{return t=await Rt.application().findOne(e),t}catch(t){b().error(`Error while loading application with ID ${e}: ${t}`),r.default.error({message:At.t("Index.applicationLoadErrorMessage"),description:At.t("Index.applicationLoadErrorDescription",{applicationId:e}),duration:0})}})();let t;e?((async e=>{e?e.name&&Nt.dispatch(xt(e.name)):b().info("No application configuration provided, the default store will be loaded")})(e),t=await(async e=>{const t=await Vt.parseMapView(e),n=await Vt.parseLayerTree(e);return new d.default({view:t,layers:n,controls:(0,c.ce)({zoom:!1})})})(e)):t=(()=>{const e=new m.default({source:new f.default});e.set("name","OpenStreetMap");const t=new m.default({opacity:.5,visible:!0,source:new g.default({url:"https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi",projection:"EPSG:3857",params:{LAYERS:"MERRA2_2m_Air_Temperature_Assimilated_Monthly"}})});t.set("name","2-meter Air Temperature, Assimilated (Monthly, MERRA2)");const n=new u.default({layers:[t]});n.set("name","NASA Earth Observations");const a=new u.default({layers:[e]});a.set("name","Background");const r=(0,p.fromLonLat)([0,40],"EPSG:3857");return new d.default({view:new y.default({center:r,zoom:0}),layers:[a,n],controls:(0,c.ce)({zoom:!1})})})(),(0,h.render)(l.createElement(l.StrictMode,null,l.createElement(l.Suspense,{fallback:l.createElement("span",null)},l.createElement(o.default,{locale:_t(At.language)},l.createElement(E.zt,{store:Nt},l.createElement(L.default.Provider,{value:t},l.createElement(Mt,null)))))),document.getElementById("app"))}catch(e){b().error(e),(0,h.render)(l.createElement(l.StrictMode,null,l.createElement(a.default,{className:"error-boundary",message:At.t("Index.errorMessage"),description:At.t("Index.errorDescription"),type:"error",showIcon:!0})),document.getElementById("app"))}})()},65705:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},78415:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},62923:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},87650:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},86092:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},16813:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},79770:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},85415:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},35818:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},90978:function(e,t,n){var a=n(87537),r=n.n(a),l=n(23645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o}}]);
//# sourceMappingURL=common.4551fad783c22788b366.js.map